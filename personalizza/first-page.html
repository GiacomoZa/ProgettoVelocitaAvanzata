<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <title>First page</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto%3A300%2C400%2C500"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C500"/>
  <link rel="stylesheet" href="./styles/first-page.css"/>
</head>
<body onload="passaElementoSuccessivo()">
<div class="first-page-3kr">
  <div class="rectangle-3-gJ2">
  </div>
  <p class="price-69-000-HYi">
    <span class="price-69-000-HYi-sub-0">Price:</span>
    <span class="price-69-000-HYi-sub-1"> €69 000</span>
  </p>
  <div class="rectangle-1-AW2">
  </div>
  <div class="rectangle-2-3pi">
  </div>
  <div class="rectangle-4-wv6">
  </div>
  <div class="rectangle-5-FQz">
  </div>
  <div class="rectangle-6-jb4">
  </div>
  <p class="velocit-avanzata-meser-P3L">
    <span class="velocit-avanzata-meser-P3L-sub-0">VELOCITÀ AVANZATA </span>
    <span class="velocit-avanzata-meser-P3L-sub-1">Meser</span>
  </p>
  <div id="informazioni">
    <!-- Le informazioni verranno visualizzate qui -->
  </div>
  <button onclick="passaElementoSuccessivo()" id="button1">Successivo</button>
  <button onclick="passaElementoPrecedente()" id="button2" style="display: none;">Precedente</button>
  <p class="select-motore-Czz">Select motore</p>
  <p class="select-pacchetto-X1g">Select pacchetto</p>
  <p class="procedi-1hY">PROCEDI</p>
  <img class="foto1-2-ikN" src="./assets/foto1-4.png"/>  
  <script>
    // Variabile globale per tenere traccia dell'ID corrente
    var idMotoreCorrente = 1;

    function passaElementoSuccessivo() {
      if (idMotoreCorrente < 4) {
      // Richiesta AJAX per ottenere i dati del prossimo elemento
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          // Ricevi la risposta JSON
          var data = JSON.parse(this.responseText);
          // Visualizza le informazioni
          document.getElementById("informazioni").innerHTML = "<b>Cilindrata:</b> " + data.cilindrata + "<br><b>Carburante:</b> " + data.carburante + "<br><b>Prezzo:</b> " + data.prezzo + "<br><b>Trasmissione:</b> " + data.trasmissione;
          // Controlla la visibilità del pulsante "Precedente"
          document.getElementById("button2").style.display = idMotoreCorrente > 1 ? "block" : "none";
        }
      };
      // Effettua la richiesta GET per ottenere il prossimo elemento
      xhttp.open("GET", "pag1.php?id=" + idMotoreCorrente, true);
      xhttp.send();

      // Incrementa l'ID corrente per il prossimo elemento
      idMotoreCorrente++;
      }
    else{
        alert("Non ci sono elementi successivi!");
      }
    }

    function passaElementoPrecedente() {
      // Controlla se l'ID corrente è maggiore di 1 per evitare id negativi
      if (idMotoreCorrente > 1) {
        // Riduci l'ID corrente per ottenere l'elemento precedente
        idMotoreCorrente--;

        // Richiesta AJAX per ottenere i dati dell'elemento precedente
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            // Ricevi la risposta JSON
            var data = JSON.parse(this.responseText);
            // Visualizza le informazioni
            document.getElementById("informazioni").innerHTML = "<b>Cilindrata:</b> " + data.cilindrata + "<br><b>Carburante:</b> " + data.carburante + "<br><b>Prezzo:</b> " + data.prezzo + "<br><b>Trasmissione:</b> " + data.trasmissione;
          }
        };
        // Effettua la richiesta GET per ottenere l'elemento precedente
        xhttp.open("GET", "pag1.php?id=" + idMotoreCorrente, true);
        xhttp.send();
      } else {
        alert("Non ci sono elementi precedenti!");
      }
    }
  </script>
</div>
</body>
</html>